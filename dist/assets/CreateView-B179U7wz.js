import{d as I,r as l,I as V,j as N,o as n,a as i,e,w as r,l as b,v as q,k as D,F as y,x as U,m as c,t as S,f,p as M,g as $,b as w,R as j,u as x,_ as B}from"./index-B4B-70Mn.js";import{d as E}from"./demands-DrfuX-Nz.js";const F={class:"row"},T={class:"col"},R={class:"form-group"},J=e("label",{for:"nombre"},[c("Nombre del evento "),e("i",{class:"bi bi-123"})],-1),L=["required"],P={class:"col"},A={class:"col"},z={class:"form-group"},G=e("label",{for:"fecha_inicio"},[c("Fecha de incio "),e("i",{class:"bi bi-calendar"})],-1),H=["required"],K={class:"row"},O={class:"form-group"},Q={class:"row"},W={class:"col col-sm-5"},X={class:"form-group"},Y=e("label",{for:"habilitar_insumos"},[c("¿Se emplearán insumos? "),e("i",{class:"bi bi-check"})],-1),Z={class:"custom-control custom-checkbox"},ee=e("label",{class:"custom-control-label",for:"habilitar_insumos"},null,-1),oe={key:0,class:"col col-auto"},se={class:"form-group"},te=e("label",{for:"identificacion"},[c("Tipo de insumo "),e("i",{class:"bi bi-person-vcard"})],-1),ae={class:"input-group input-group mb-3"},ne={class:"input-group-prepend",id:"identificacion"},ie=e("option",{title:"Cédulda de ciudadanía"},"No registra",-1),le=e("option",{title:"Cédula de extrangería"},"Dinero",-1),re=e("option",{title:"Tarjeta de identidad"},"Insumos",-1),ce=[ie,le,re],de=["placeholder","disabled"],ue={class:"list-group"},_e=["onClick"],ve={key:0,class:"bi bi-check"},pe={key:1,class:"form-group"},me=e("label",{for:"cantidad"},[c("Cantidad "),e("i",{class:"bi bi-clipboard"})],-1),be=["required"],he=e("button",{type:"submit",class:"btn btn-primary"},[c("Procesar "),e("i",{class:"bi bi-save"})],-1),fe=I({__name:"FormComponent",setup(k){const o=l({}),u=V(),a=l("No registra"),_=l(!1),d=l(""),v=l([]),p=l({}),m=l(0);N(async()=>{a.value==="Dinero"&&d.value.length>0?(v.value=await u.obtenerDinero(d.value),o.value={...o.value,fondos:p.value.id,producto:null,cantidad_producto:0}):a.value==="Insumos"&&d.value.length>0&&(v.value=await u.obtenerProducto(d.value),o.value={...o.value,producto:p.value.codigo,fondos:null,cantidad_fondos:0}),a.value==="No registra"&&(v.value=[])});const g=h=>{o.value={...o.value,[h.target.name]:h.target.value}},C=async h=>{let t=p.value.value;a.value==="Dinero"?o.value={...o.value,fondos:t.id,cantidad_fondos:m.value}:a.value==="Insumos"&&(o.value={...o.value,producto:t.codigo,cantidad_producto:m.value}),console.log(o.value),await $("¿Está seguro de procesar el evento?","Este proceso no se puede alterar",()=>{u.guardarJornada(o.value)})};return(h,t)=>(n(),i("form",{onSubmit:M(C,["prevent"])},[e("div",F,[e("div",T,[e("div",R,[J,r(e("input",{type:"text",class:"form-control form-control-border",id:"nombre",name:"nombre",onInput:g,"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.nombre=s),required:!o.value.nombre},null,40,L),[[b,o.value.nombre]])])]),e("div",P,[e("div",A,[e("div",z,[G,r(e("input",{type:"date",class:"form-control form-control-border",id:"fecha_inicio",name:"fecha_inicio",onInput:g,"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.fecha_inicio=s),required:!o.value.fecha_inicio},null,40,H),[[b,o.value.fecha_inicio]])])])])]),e("div",K,[e("div",O,[r(e("textarea",{name:"descripcion","onUpdate:modelValue":t[2]||(t[2]=s=>o.value.descripcion=s),id:"descripcion",cols:"60",rows:"10",placeholder:"descripcion del evento",onInput:g},null,544),[[b,o.value.descripcion]])])]),e("div",Q,[e("div",W,[e("div",X,[Y,e("div",Z,[r(e("input",{type:"checkbox",class:"custom-control-input",id:"habilitar_insumos","onUpdate:modelValue":t[3]||(t[3]=s=>_.value=s)},null,512),[[q,_.value]]),ee])])]),_.value?(n(),i("div",oe,[e("div",se,[te,e("div",ae,[e("div",ne,[r(e("select",{class:"custom-select","onUpdate:modelValue":t[4]||(t[4]=s=>a.value=s)},ce,512),[[D,a.value]])]),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>d.value=s),placeholder:a.value==="Dinero"?"Indique patrocinador":a.value==="Insumos"?"Indique codigo":"Indique una opción",disabled:a.value==="No registra"},null,8,de),[[b,d.value]])])]),v.value.length>0?(n(!0),i(y,{key:0},U(v.value,s=>(n(),i("ul",ue,[e("li",{class:"list-group-item",onClick:()=>{p.value.value=s}},[c(S(a.value==="Insumos"?s.codigo+" - "+s.nombre:s.patrocinador+" - "+s.cantidad)+" ",1),a.value!=="No registra"&&p.value.value===s?(n(),i("i",ve)):f("",!0)],8,_e)]))),256)):f("",!0),_.value?(n(),i("div",pe,[me,r(e("input",{type:"number",class:"form-control form-control-border",id:"cantidad",name:"cantidad","onUpdate:modelValue":t[6]||(t[6]=s=>m.value=s),required:!m.value&&_.value},null,8,be),[[b,m.value]])])):f("",!0)])):f("",!0)]),he],32))}}),ge=e("h6",null,"Ingrese los datos requeridos",-1),Ie=I({__name:"CreateComponent",setup(k){return(o,u)=>(n(),i(y,null,[ge,w(fe)],64))}}),ke={class:"col col-lg-6"},we=I({__name:"CreateView",setup(k){let o=[{text:"Volver",icon:"bi bi-arrow-left",link:"/jornadas",class:"btn btn-sm btn-primary",type:"link"}];return j(),(u,a)=>(n(),i("div",ke,[w(B,{icon:x(E),header:"Jornadas",title:"Crear jornada",buttons:x(o),component:Ie},null,8,["icon","buttons"])]))}});export{we as default};
